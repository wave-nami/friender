<!-- Message for message at the top
Action for register or
Disabled for if phone number input is disabled
Display for if phone number input is disabled
Mindate for less than 18 birthday
Interests for list of interests
submit_type for register or confirm change -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>knot a stranger</title>
    <link rel="icon" type="image/x-icon" href="{{url_for('static', filename='squarelogo.png')}}">
    <!-- <link rel="icon" type="image/x-icon" href="img/squarelogo.png"> -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <!-- <link rel="stylesheet" href="main.css"> -->
    <link rel="stylesheet" href="{{url_for('static', filename='main.css')}}">

    <style>
        /* Internal CSS */
    </style>
</head>
<body>
    <!-- NAVBAR -->
    <nav class="navbar navbar-expand-lg navbar-light" style="background-color: #D4C5C5;" style="padding:0;">
        <div class="container-fluid">
            <span class="navbar-brand mb-0 h1">
                <img src="{{url_for('static', filename='navbar.png')}}" alt="knot a stranger" height="50" class="d-inline-block align-text-top">
                <!-- <img src="img/navbar.png" alt="knot a stranger" height="50" class="d-inline-block align-text-top"> -->
            </span>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                <div class="navbar-nav me-auto">
                </div>
                <form action="/page/login" method="POST" >
                    <button type="submit" class="btn btn-link navlink"> Log In </button>
                </form>
            </div>
        </div>
    </nav>
    <!-- END: NAVBAR -->

    <!-- TITLE -->
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-auto">
                <!-- <h1 class="mt-5 mb-1">Welcome, Stranger!</h1> -->
                <h1 class="mt-5 mb-1"> {{message}} </h1>
            </div>
        </div>

        <!-- FORM -->
            <form class="form-floating" action="/{{action}}" method="POST" id="profile_form" novalidate>
            <div class="row gx-3 justify-content-center">
                <!-- first name -->
                <div class="col-4">
                    <div class="form-floating">
                        <input type="text" class="form-control" id="floatingFname" placeholder="Firstname" name="fname">
                        <label for="floatingFname" class="label">First Name</label>
                        <div class="invalid-feedback">
                            Please type a first name.
                        </div>
                    </div>
                </div>
                <!-- last name -->
                <div class="col-4">
                    <div class="form-floating">
                        <input type="text" class="form-control" id="floatingLname" placeholder="Lastname" name="lname">
                        <label for="floatingLname" class="label">Last Name</label>
                        <div class="invalid-feedback">
                            Please type a last name.
                        </div>
                    </div>
                </div>
            </div>

            <div class="row gx-3 justify-content-center">
                <!-- mobile number -->
                <div class="col-8">
                    <div class="form-floating">
                        <input type="text" class="form-control" id="floatingNumber" placeholder="Mobile Number" name="number" {{disabled}}>
                        <!-- <input type="tel" class="form-control" id="floatingNumber" placeholder="xxx-xxx-xxxx" name="number" pattern="[0-9]{3}-[0-9]{2}-[0-9]{3}" required> -->
                        <label for="floatingNumber" class="label">Mobile Number (xxx-xxx-xxxx)</label>
                        <small class="comment" style="display: {{display}};">phone number cannot be changed.</small>
                        <small class="comment" style="display: none;">phone number cannot be changed.</small>
                        <div class="invalid-feedback">
                            Please type a valid mobile number.
                        </div>
                    </div>
                </div>
            </div>

            <div class="row gx-3 justify-content-center">
                <!-- username -->
                <div class="col-4">
                    <div class="form-floating">
                        <input type="text" class="form-control" id="floatingUsername" placeholder="Username" name="username">
                        <label for="floatingUsername" class="label">Username</label>
                        <div class="invalid-feedback">
                            Please type a username.
                        </div>
                    </div>
                </div>
                <!-- password -->
                <div class="col-4">
                    <div class="form-floating">
                        <input type="password" class="form-control" id="floatingPassword" placeholder="Password" name="password">
                        <label for="floatingPassword" class="label">Password</label>
                        <div class="invalid-feedback">
                            Please type a password that's 8-16 characters long.
                        </div>
                    </div>
                </div>
            </div>

            <div class="row gx-3 justify-content-center">
                <!-- pronouns -->
                <div class="col-4">
                    <div class="form-floating">
                        <input type="text" class="form-control" id="floatingPronouns" placeholder="Pronouns" name="pronouns">
                        <label for="floatingPronouns" class="label">Pronouns</label>
                        <div class="invalid-feedback">
                            Please type your pronouns.
                        </div>
                    </div>
                </div>
                <!-- birthdate -->
                <div class="col-4">
                    <div class="form-floating">
                        <input type="date" class="form-control" id="floatingBirthday" placeholder="Birthday" name="birthday" max="{{maxdate}}">
                        <label for="floatingBirthday" class="label">Birthday</label>
                        <div class="invalid-feedback">
                            Please type your birthday.
                        </div>
                    </div>
                </div>
            </div>

            <div class="row gx-3 justify-content-center">
                <!-- bio -->
                <div class="col-4">
                    <div class="form-floating">
                        <textarea type="text" class="form-control" id="floatingBio" placeholder="Bio" name="bio" style="height: 110px"></textarea>
                        <label for="floatingBio" class="label">Bio</label>
                        <div class="invalid-feedback">
                            Please type information about yourself.
                        </div>
                    </div>
                </div>
                <!-- social media -->
                <div class="col-4">
                    <div class="form-floating">
                        <textarea type="socialmedia" class="form-control" id="floatingSocialMedia" placeholder="Social Media" name="socialmedia" style="height: 110px"></textarea>
                        <label for="floatingSocialMedia" class="label">Social Media</label>
                        <div class="invalid-feedback">
                            Please type your social media accounts, or type some form of reachable communication.
                        </div>
                    </div>
                </div>
            </div>

            <div class="row justify-content-center">
                <small class="comment" style="font-size: larger">Select your 3 interests below</small>
            </div>

            <div class="row gx-3 justify-content-center">
                <!-- interest 1 -->
                <div class="col-3">
                    <select name="interest1" class="form-control" id="interest1">
                        <option disabled selected>Select Interest #1</option>
                        <option value="1"> Cooking </option>
                        {% for key, value in interests.items() %}
                        <option value="{{key}}">{{value}}</option>
                        {% endfor %}
                    </select>
                    <div class="invalid-feedback">
                        Please select a valid interest.
                    </div>
                </div>
                <!-- interest 2 -->
                <div class="col-3">
                    <select name="interest2" class="form-control" id="interest2">
                        <option disabled selected>Select Interest #2</option>
                        <option value="1"> Cooking </option>
                        {% for key, value in interests.items() %}
                        <option value="{{key}}">{{value}}</option>
                        {% endfor %}
                    </select>
                    <div class="invalid-feedback">
                        Please select a valid interest.
                    </div>
                </div>
                <!-- interest 3 -->
                <div class="col-3">
                    <select name="interest3" class="form-control" id="interest3">
                        <option disabled selected>Select Interest #3</option>
                        <option value="1"> Cooking </option>
                        {% for key, value in interests.items() %}
                        <option value="{{key}}">{{value}}</option>
                        {% endfor %}
                    </select>
                    <div class="invalid-feedback">
                        Please select a valid interest.
                    </div>
                </div>
            </div>

            <div class="row gx-3 justify-content-center">
                <div class="col-8">
                    <button type="submit" class="btn btn-primary btn-lg mt-3" id="submit"> {{submit_type}} </button>
                    <!-- <button type="submit" class="btn btn-primary btn-lg mt-3" id="submit"> Register </button> -->
                </div>
            </div>
            </form>

    </div>

    <script>
        document.querySelector('#profile_form').onsubmit = function(event){
            //firstname
            if ( document.querySelector('#floatingFname').value.trim().length == 0 ) {
                event.preventDefault();
				document.querySelector('#floatingFname').classList.add('is-invalid');
			} else {
				document.querySelector('#floatingFname').classList.remove('is-invalid');
			}
            //floatingLname
            if ( document.querySelector('#floatingLname').value.trim().length == 0 ) {
                event.preventDefault();
				document.querySelector('#floatingLname').classList.add('is-invalid');
			} else {
				document.querySelector('#floatingLname').classList.remove('is-invalid');
			}

            // username
			if ( document.querySelector('#floatingUsername').value.trim().length == 0 ) {
                event.preventDefault();
				document.querySelector('#floatingUsername').classList.add('is-invalid');
			} else {
				document.querySelector('#floatingUsername').classList.remove('is-invalid');
			}
            // password
            if ( document.querySelector('#floatingPassword').value.trim().length == 0 ) {
                event.preventDefault();
				document.querySelector('#floatingPassword').classList.add('is-invalid');
			} else {
				document.querySelector('#floatingPassword').classList.remove('is-invalid');
			}

            //pronouns
            if ( document.querySelector('#floatingPronouns').value.trim().length == 0 ) {
                event.preventDefault();
				document.querySelector('#floatingPronouns').classList.add('is-invalid');
			} else {
				document.querySelector('#floatingPronouns').classList.remove('is-invalid');
			}
            // birthday
            if ( document.querySelector('#floatingPassword').value.trim().length == 0 ) {
                event.preventDefault();
				document.querySelector('#floatingPassword').classList.add('is-invalid');
			} else {
				document.querySelector('#floatingPassword').classList.remove('is-invalid');
			}

            // bio
            if ( document.querySelector('#floatingBio').value == '' ) {
                event.preventDefault();
				document.querySelector('#floatingBio').classList.add('is-invalid');
			} else {
				document.querySelector('#floatingBio').classList.remove('is-invalid');
			}
            // social media
            if ( document.querySelector('#floatingSocialMedia').value == '' ) {
                event.preventDefault();
				document.querySelector('#floatingSocialMedia').classList.add('is-invalid');
			} else {
				document.querySelector('#floatingSocialMedia').classList.remove('is-invalid');
			}

            // interest1
            if ( document.querySelector('#interest1').value == '' ) {
                event.preventDefault();
				document.querySelector('#interest1').classList.add('is-invalid');
			} else {
				document.querySelector('#interest1').classList.remove('is-invalid');
			}
            // interest2
            if ( document.querySelector('#interest2').value == '') {
                event.preventDefault();
				document.querySelector('#interest2').classList.add('is-invalid');
			} else {
				document.querySelector('#interest2').classList.remove('is-invalid');
			}
            // interest3
            if ( document.querySelector('#interest3').value == '' ) {
                event.preventDefault();
				document.querySelector('#interest3').classList.add('is-invalid');
			} else {
				document.querySelector('#interest3').classList.remove('is-invalid');
			}

        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</body>
</html>